# 第二章-里氏替换原则(LSP)

## 继承的优缺点

### 优点

- 代码共享，减少创建类的工作量，每个子类都拥有父类的方法和属性。
- 提高代码的重用性。
- 子类形似分类，但又异于父类。
- 提高代码的可扩展性。
- 提高产品或项目的开放性。

### 缺点

- 继承是侵入性的。只要继承，就必须拥有父类的所有属性和方法。
- 降低代码的灵活性。
- 增强了耦合性。父类常量、变量和方法被修改，也许考虑子类的修改。

## 里氏替换原则定义

### 定义一

- 如果对每一个类型为S的对象o1，都有类型为T的对象o2，使得T定义的所有程序P在所有对象o1都替换成o2时，程序P的行为没有发生变化，那么类型S是类型T的子类型。

### 定义二

- 所有引用基类的地方必须能透明地使用其子类的对象。只要父类能出现的地方子类就可以出现，而且替换为子类也不会产生任何错误或异常。使用者可能根本不知道是父类还是子类。

## 里氏替换原则含义

- 子类必须完全实现父类的方法。
- 在类中调用其他类时务必要使用父类或接口，如果不能使用父类或及接口，则说明类的设计已经违背了LSP原则。